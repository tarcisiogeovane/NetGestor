{% extends 'base.html' %}

{% block content %}
    <h1>Mapa de Clientes</h1>
    <div id="map" style="height: 500px; margin-top: 20px;"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <script>
        // Inicializar o mapa
        var map = L.map('map').setView([-23.5505, -46.6333], 13); // Centro em SÃ£o Paulo

        // Adicionar o layer do OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);    
    </script>

<div class="section section-info">
    <h2>Mapa de Clientes</h2>
    {% if clients %}
        <ul>
            {% for client in clients %}
                <li>{{ client['nome'] }} - IP: {{ client['ip'] }} - Servidor: {{ client['servidor'] }} - Status: {{ client['status'] }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Nenhum cliente cadastrado.</p>
    {% endif %}
</div>
{% endblock %}